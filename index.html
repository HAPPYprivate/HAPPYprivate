<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HAPPY · Script — Protected Page</title>

  <!-- Fonts + Icons (icons từ CDN, không vẽ tay) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="" crossorigin="anonymous">

  <style>
    :root{
      --bg-1: #050006;
      --bg-2: #120018;
      --accent: #9b3cff; /* chính */
      --accent-2: #5a1ad6;
      --muted: #cfc6dd;
      --card-bg: rgba(12,6,18,0.6);
      --glass: rgba(255,255,255,0.03);
      --radius: 14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family: "Poppins", system-ui, sans-serif; background: radial-gradient(1200px 700px at 10% 10%, rgba(155,60,255,0.08), transparent), linear-gradient(180deg,var(--bg-1),var(--bg-2)); color:var(--muted); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

    /* center stage */
    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:48px 20px;
      gap:28px;
    }

    /* main card */
    .card {
      width:min(920px, 96%);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.25));
      border: 1px solid rgba(155,60,255,0.12);
      border-radius: var(--radius);
      padding:32px;
      box-shadow: 0 12px 40px rgba(20,6,45,0.6);
      backdrop-filter: blur(10px) saturate(1.2);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
      align-items:start;
    }

    /* left: headline + text */
    .hero{
      padding-right:8px;
    }
    .brand{
      display:inline-block;
      font-weight:700;
      font-family: "JetBrains Mono", monospace;
      font-size:13px;
      letter-spacing:1px;
      color:var(--accent);
      padding:6px 10px;
      background: linear-gradient(90deg, rgba(155,60,255,0.08), rgba(90,26,214,0.06));
      border-radius:10px;
    }
    h1{
      margin:14px 0 6px 0;
      font-size:28px;
      line-height:1.05;
      font-weight:700;
      color: white;
      text-shadow: 0 6px 30px rgba(90,26,214,0.12);
    }
    p.lead {
      margin:0;
      color: #d8cfe6;
      opacity:0.95;
      font-size:15px;
    }

    /* right column: controls */
    .controls {
      background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.18));
      border-radius:12px;
      padding:18px;
      border:1px solid rgba(255,255,255,0.02);
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .btn {
      display:flex;
      align-items:center;
      gap:12px;
      padding:12px 14px;
      border-radius:10px;
      cursor:pointer;
      user-select:none;
      border:1px solid rgba(255,255,255,0.03);
      font-weight:600;
      font-size:15px;
      transition: all .18s ease;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
    }
    .btn:active{ transform: translateY(1px); }

    .btn.primary{
      color: white;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      box-shadow: 0 8px 30px rgba(155,60,255,0.18), 0 2px 8px rgba(0,0,0,0.45);
      border: none;
    }
    .btn.ghost{
      color:var(--muted);
      background:transparent;
    }

    .btn .icon{
      width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center;
      font-size:18px;
    }

    .btn.small{ padding:10px 12px; font-size:14px; gap:8px; border-radius:9px; }

    /* copy feedback */
    .toast{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:36px;
      background: rgba(20,8,35,0.9);
      color:white;
      padding:10px 14px;
      border-radius:10px;
      box-shadow: 0 8px 30px rgba(20,6,45,0.6);
      font-weight:600;
      display:none;
      z-index:9999;
    }

    /* small preview area */
    .preview {
      border-radius:10px;
      background: rgba(0,0,0,0.35);
      border:1px solid rgba(155,60,255,0.06);
      padding:12px;
      font-family: "JetBrains Mono", monospace;
      font-size:13px;
      color:#e7deff;
      min-height:140px;
      overflow:auto;
      white-space:pre-wrap;
      word-break:break-word;
    }

    /* footer small */
    .meta {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-top:6px;
      color:#bfb1e6;
      font-size:13px;
    }
    .meta .small { opacity:0.8; font-weight:500; }

    /* responsive */
    @media (max-width:880px){
      .card{ grid-template-columns: 1fr; }
      .controls{ order: 2; width:100%; }
    }
  </style>
</head>
<body>

  <div class="wrap">
    <div class="card" role="main" aria-labelledby="pageTitle">
      <div class="hero">
        <span class="brand">HAPPY · script</span>
        <h1 id="pageTitle">Trang bảo vệ script — Truy cập giới hạn</h1>
        <p class="lead">Trang này được thiết kế gọn, chuyên nghiệp, tông màu tím-đen. Bạn có thể chuyển hướng tới Discord hoặc sao chép script nhanh sang clipboard.</p>

        <div style="height:18px"></div>

        <div style="display:flex;flex-direction:column;gap:10px;">
          <div class="preview" id="preview">
/* Nơi hiển thị mẫu script — bạn sẽ dán script thực vào phần <!-- PASTE YOUR SCRIPT HERE --> trong file HTML này để người dùng có thể copy. */
          </div>

          <div class="meta" aria-hidden="false">
            <div class="small">Bảo mật nội dung • Màu: tím / đen</div>
            <div style="opacity:0.7;font-size:12px">HAPPY · script</div>
          </div>
        </div>
      </div>

      <aside class="controls" aria-label="Controls">
        <!-- Discord URL: chỉnh ở dưới trong phần <script> (thay DISCORD_URL) -->
        <button id="discordBtn" class="btn primary" title="Mở Discord (mở cửa sổ mới)">
          <span class="icon" aria-hidden="true"><i class="fab fa-discord"></i></span>
          <span>Join Discord</span>
        </button>

        <button id="copyBtn" class="btn ghost" title="Sao chép script vào clipboard">
          <span class="icon" aria-hidden="true"><i class="fa-solid fa-copy"></i></span>
          <span>Copy script</span>
        </button>

        <button id="downloadBtn" class="btn small ghost" title="Tải xuống file .txt chứa script">
          <span class="icon" aria-hidden="true"><i class="fa-regular fa-file-arrow-down"></i></span>
          <span>Tải file</span>
        </button>

        <div style="flex:1"></div>

        <div style="font-size:13px;color:#d7cfee;opacity:0.95">Cách dùng nhanh:</div>
        <ol style="margin:8px 0 0 16px;color:#cfc0e8;font-size:13px;line-height:1.45">
          <li>Thay `DISCORD_URL` trong &lt;script&gt; (dưới) bằng link Discord của bạn.</li>
          <li>Dán script thật vào phần <!-- PASTE YOUR SCRIPT HERE --> trong file này (giữ nguyên định dạng).</li>
          <li>Commit & push lên GitHub — trang sẽ hiển thị qua GitHub Pages.</li>
        </ol>
      </aside>
    </div>
  </div>

  <div class="toast" id="toast">Đã sao chép</div>

  <!-- ================ Hidden area to hold script content ================
       Bạn *sửa* phần giữa thẻ <script id="scriptContent" type="text/plain">...</script>
       bằng script của bạn (thay nội dung comment). Khi người dùng bấm "Copy script",
       nội dung này sẽ được copy vào clipboard.
  -->
  <script id="scriptContent" type="text/plain">
/* PASTE YOUR SCRIPT HERE
   --- Ví dụ:
   // Đây là chỗ bạn đặt script khi đã sẵn sàng cho người dùng copy.
   console.log("Hello from HAPPY script");
*/
  </script>

  <script>
    (function(){
      // ========== CONFIG ==========
      // Thay link Discord tại đây (ví dụ: "https://discord.gg/abc123")
      const DISCORD_URL = "https://discord.gg/Y5r4f4BYtm";

      // ID elements
      const discordBtn = document.getElementById("discordBtn");
      const copyBtn = document.getElementById("copyBtn");
      const downloadBtn = document.getElementById("downloadBtn");
      const toast = document.getElementById("toast");
      const scriptTag = document.getElementById("scriptContent");
      const preview = document.getElementById("preview");

      // Hiển thị nội dung script trong khu preview (an toàn, từ thẻ type="text/plain")
      function loadPreview(){
        const txt = scriptTag.textContent.trim();
        preview.textContent = txt || "/* Chưa có script. Dán script của bạn vào thẻ #scriptContent */";
      }
      loadPreview();

      // Open Discord in a new tab (safe)
      discordBtn.addEventListener("click", function(){
        window.open(DISCORD_URL, "_blank", "noopener,noreferrer");
      });

      // Copy to clipboard with graceful fallback
      async function copyScriptToClipboard(){
        const txt = scriptTag.textContent.trim();
        if(!txt){
          showToast("Chưa có script để copy");
          return;
        }
        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            await navigator.clipboard.writeText(txt);
          } else {
            // fallback: create textarea
            const ta = document.createElement("textarea");
            ta.value = txt;
            ta.style.position = "fixed";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            document.execCommand('copy');
            document.body.removeChild(ta);
          }
          showToast("Script đã được sao chép");
        } catch(e){
          showToast("Không thể copy: " + (e && e.message ? e.message : ""));
        }
      }

      copyBtn.addEventListener("click", copyScriptToClipboard);

      // Download script as text file
      downloadBtn.addEventListener("click", function(){
        const txt = scriptTag.textContent.trim();
        if(!txt){ showToast("Chưa có script để tải"); return; }
        const blob = new Blob([txt], {type: "text/plain;charset=utf-8"});
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "script.txt";
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
        showToast("Đã tạo file tải về");
      });

      // Toast helper
      let toastTimer = null;
      function showToast(msg){
        toast.textContent = msg;
        toast.style.display = "block";
        clearTimeout(toastTimer);
        toastTimer = setTimeout(()=> { toast.style.display = "none"; }, 2200);
      }

      // Optional: keyboard shortcut: Ctrl/Cmd + C to copy preview
      window.addEventListener("keydown", function(e){
        if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'c'){
          // prevent interfering with normal copy when selection exists
          const sel = window.getSelection();
          if(sel && sel.toString().trim()) return;
          e.preventDefault();
          copyScriptToClipboard();
        }
      });

    })();
  </script>
</body>
</html>
